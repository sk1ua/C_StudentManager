在时隔两周，四次作业布置下，这份由C语言编写基于数组的学生信息管理系统也逐步完成，以下将从解决问题和经验总结两个方面来对该实验进行总结

## 一、解决问题

### 1. 控制台输出乱码问题

​	相信很多人和我一样，在第一次建立好menu()菜单函数第一次在控制台上运行时输出的中文是乱码，这是由于文件是由UTF-8编码，在转换为GBK编码后控制台能正常输出中文字符(当然不同编译器解决这个问题的方式不同，我用的编译器是CLion)。

### 2. .dat文件读取乱码

​	要确保"student.h"中STU结构体数组中的字符数组大小与.dat文件中的保持一致。

​	其实在一开始我并不知道二进制文件是.dat文件，在第二次作业布置时问同学才知道，以前一开始都是读入的.txt文件，之后在恶补了二进制文件读取后才解决这个问题，说实话当时解决二进制文件读取搞了一下午才成功，同时我使用了sublime Text这个软件，他可以打开二进制文件，将里面数据转换为十六进制ASCII码的形式去阅读，方便调试代码时检查我对.dat文件读写状况，不得不说这个软件对我帮助很大。

### 3.一开始没用真正了解作业需求，没有好的前期规划

​	一点是由于作业文件中对具体程序要求并不清晰直观，一点没有好的前期规划与部署去编写程序。

​	我认为这个问题是最影响程序编写的问题，由于需求的不确定需要反复去修改代码，无疑是增加了很多不必要的代码工程量，相比上面的问题来说，上面的问题可以在查阅资料学习后解决，而这个问题属于是习惯养成的问题，前期的准备工作是很有必要的，要时刻去认识到需求与目的，做好规划。这是我第一次写长达600行代码的程序，在每一次作业要求后，代码的膨胀速度超过我的想象，第一次大约100行，第二次240行，第三次400行，到最后达到600行，我将我的代码发布到了Github(<https://github.com/sk1ua/C_StudentManager>)，前后大大小小的修改提交了14次，这是我第一次切身体会到工程代码的长度不同于一般写C++算法题一样，如果说C++算法题侧重考察的是你如何去实现一个功能来具体解决某一个问题，那么编写工程更侧重对所要实现的系统来做好总体的规划，确保每一个功能可以互不干扰的解决具体问题，比如说针对系统的全局变量studentCount，实际上他是在模拟系统内存中所占用的大小，我在编写DeleteStudent函数时忘记更新StudentCount，在显示输出时遇见乱码，这个问题卡了我一上午，中午睡起来一下午又在电脑前坐牢调试半天，花了老长时间搞定的。

### 4.更加合理与人性化的页面交互

​	在和同学相互测试时，我发现大多情况下让同学测试的时候还得给同学去讲这个程序是怎么实现的，所以更加合理与人性化的页面交互设计非常关键。

​	我们具体看一下代码中我针对页面交互的设计优化

- #### 更好的输出格式

  添加了Total，实现了横向表格输出，控制了表格间距大小，更加人性化美观

```c++
// 标准输出格式
void Output(STU *p) {
    printf("| %-10s | %-20s | %-20s | %-6d | %-6d | %-6d | %-6d | %-6d |\n",
           p->ID, p->name, p->major, p->classNo, p->score[0], p->score[1], p->score[2],
           p->score[0] + p->score[1] + p->score[2]);
}

// 标准输出表头
void Outputtitle() {
    printf("|     ID     |         Name         |        Major         | Class  | Score1 | Score2 | Score3 | Total  |\n");
}
```

- #### 具体的操作信息提示返回

  有了这些信息，用户可以更加容易的了解到当前操作在干什么

  同时添加暂停和清屏功能，让界面显示更加干净好看

  ```c++
  printf("成功读入 %d 个学生信息\n", count);
  printf("查找到%d个学生",cnt);
  printf("学号为 %s 的学生信息已删除。\n", deleteID);
  printf("请输入你想存入的文件名:");
  printf("排序后信息成功存入%s\n",filename);
  printf("录入学生信息成功\n");
  printf("查找到%d名课程序号%d的最高分学生\n", maxIndices.count, index + 1);
   printf("当前已经录入%d个学生的信息.\n", studentCount);
  ```

  ```c++
  system("pause");
  system("cls");
  ```

  - #### 更加人性的菜单设计

    让用户更加直观看见系统的功能，同时注意不要用“程序员用语”

    ```c++
    printf("--------学生管理系统菜单--------\n");
            printf("1. 将新的学生信息输入文件中\n");
            printf("2. 从文件中删除学生信息\n");
            printf("3. 显示所有学生信息\n");
            printf("4. 指定学生信息查找(姓名,学号)\n");
            printf("5. 查找某个课程的最高分学生\n");
            printf("6. 排序(所有人平均分排序/按班级排序/按专业,按某门课排序)\n");
            printf("7. 按特定条件查询(班级,分数段)\n");
            printf("8. 清空当前系统中存入的学生信息文件\n");
            printf("9. 读入新的学生文件信息\n");
            printf("10.退出系统\n");
            printf("----------------------------\n");
            if(studentCount)printf("现在打开的是\"%s\"文件\n",NowFileName);
            else printf("未打开学生信息文件\n");
            printf("当前已经录入%d个学生的信息.\n", studentCount);
            printf("选择一个选项: ");
    ```

### 5.做好版本控制和注释

​	这是我在多次具体要求变更时意识到的问题，我担心在代码多起来时写出什么不可逆的问题导致程序出错，于是用了git将代码提交到了Github上，有助于我以后遇到什么问题可以及时返回到上一版本的代码，事实上这确实救了我一命，当时写deleteSutdent函数调试输出乱码时我及时将我在GitHub存的.dat文件和main.cpp给pull下来，省去了我很多时间去查错和重新修改.dat文件

​	写函数时有一个良好的的写注释习惯会让你在之后去实现某些程序调用函数时清晰明了的知道这些函数具体可以做一些声明，这对于去写工程非常重要，总不至于写功能时没看懂自己以前写的啥函数，后来又写了个和之前写过的函数实现功能差不多的函数，浪费时间。

## 二、经验总结

### 1.做好事先规划，具体了解用户需求

​	好的规划往往能够去帮助我们减少具体写代码时的工程量，减少由于缺乏预先规划而反复修改代码的问题，这个也是导致我花了很多时间在这个项目上的原因

### 2.多借助搜索引擎与AI去独立自主解决问题

​	在实验前后我遇到了好多同学在遇见非常容易解决的乱码问题时都会变得手足无措，前后我也帮一些人去解决了这个问题，但是很多情况下我没去帮他们解决。

​	首先第一点我发现他们缺乏去使用搜索引擎的素养，有些同学连解压文件都不会，其次他们不了解自己使用的编译器如何去配置，最后他们没有耐心去解决这些问题。这些问题如过去搜索引擎上很轻松就能解决，大不了可以问AI，ChatGPT啊，天工啊，他们都会去给你一个解决问题的框架，具体还需要自己摸索，但很大程度上能解决你手足无措的局面。

​	上面我没解决那些同学的问题有的是因为我确实不了解他用的编译器如何配置，而且我没有时间去帮他们摸索，有的是我我在排查他们的函数是否写错时问他们这些函数的功能与流程他们说不出来，这种情况如果我去帮他们解决的的话等于我自己再写一遍这个系统，我就推脱了。

### 3.保持良好的形态去写代码，切莫急躁

​	相信很多人面对"又长又臭"的代码时会十分急躁，面对一个棘手的问题会心烦意乱，但我们从客观事实来看，我们遇到的所有困难，便是我们还没有学会的，能够解决这些问题，便是我们能够学习的。编程是一项应用技能，强实践而弱理论，我们乐观的想，一切无法击败你的日后会变成你登向顶峰的垫脚石，以乐观的心态面对困难，积极耐心的去解决问题，这不仅是编程需要的，更是人生需要的。

以上便是我的实验总结，祝我们在这次实验后，变得更强。
